<!DOCTYPE html>
<html>

<head>
    <title>Lyrionster</title>
    <script type="module">
        import QrScanner from "https://unpkg.com/qr-scanner/qr-scanner.min.js";
    </script>
    <link rel="stylesheet" href="[% webroot %]plugins/Lyrionster/style.css">
    <link rel="stylesheet" href="[% webroot %]plugins/Lyrionster/html/font/font.css">
    <meta name=viewport content="width=device-width, initial-scale=1">

    <!-- Allow web app to be run in full-screen mode -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- iOS icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="[% webroot %]plugins/Lyrionster/html/images/icon-180x180.png">
    <!-- Android icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="[% webroot %]plugins/Lyrionster/html/images/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="[% webroot %]plugins/Lyrionster/html/images/icon-512x512.png">

    <link rel="icon" type="image/x-icon" href="[% webroot %]plugins/Lyrionster/html/images/favicon.ico">

    <link rel="shortcut icon" sizes="192x192" href="[% webroot %]plugins/Lyrionster/html/images/icon-192x192.png">

    <link rel="manifest" href="[% webroot %]plugins/Lyrionster/manifest.json">

    <script type="text/javascript" src="[% webroot %]html/common.js?r=[% revision %]"></script>
    
    <style>
    :root {
      --arrow-bg: rgba(255, 255, 255, 0.3);
      --arrow-icon: url([% webroot %]plugins/Lyrionster/html/images/Caret_down_font_awesome_whitevariation.svg);
      --option-bg: white;
      --select-bg: rgba(255, 255, 255, 0.2);
    }
    </style>
</head>

<body>   
    <h1>Lyrionster</h1>
    
    [% IF player_chooser_list %]
    <div id="playerChooser">
        [% "PLUGIN_LYRIONSTER_PLAYING_ON" | string %]
        <form method="GET" action="[% webroot %]plugins/Lyrionster/index.html">
        <select name="player" onchange="switchPlayer(this);">
            [% player_chooser_list %]
        </select>
        </form>
    </div>
    [% ELSE %]
    <p>[% "PLUGIN_LYRIONSTER_NO_PLAYER_FOUND_REFRESH" | string %]</p>
    [% END %]
    <br/>
    
    <div id="qr-reader">
        <button id="cancelScanButton" class="button">Cancel Scan</button>
        <video id="qr-video"></video>
    </div>

    <button id="startScanButton" class="button button_startscan">Start Scan</button>
    <br />
    <button id="startstopButton" class="button button_startstop">Play/pause</button>

    <div class="bottom">
        <a href="https://github.com/terual/plugin-Lyrionster/" target="_blank">View the Lyrionster project on GitHub</a>
    </div>

    <script type="module" src="[% webroot %]plugins/Lyrionster/app.js"></script>

</body>

</html>
